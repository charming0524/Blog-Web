<%- include('partials/header.ejs') %>
  <div class="container mt-5">
    <h1 class="mb-4">Blog List</h1>
    <ul class="list-group mb-5">
      <% blogPosts.forEach(post => { %>
        <li class="list-group-item">
          <h5><%= post.title %></h5>
          <p><%= post.description.length > 150 ? post.description.slice(0, 150) + '...' : post.description %></p>
          
          <% if (post.description.length > 150) { %>
            <a href="/view-post/<%= post.id %>" class="btn btn-primary btn-sm">View Blog</a>
          <% } %>
          
          <form action="/delete-post/<%= post.id %>" method="POST" style="display: inline;">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
          <a href="/edit-post/<%= post.id %>" class="btn btn-warning btn-sm">Edit</a>
        </li>
      <% }) %>
    </ul>
    <a href="/" class="btn btn-secondary">Back to Home</a>
  </div>

  <%- include('partials/footer.ejs') %>